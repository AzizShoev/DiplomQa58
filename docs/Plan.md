# План автоматизации

#### Объект тестирования

Веб-сервис оплаты путешествия следующими способами:
* дебетовой картой
* оформление кредита по реквизитам банковской карты

#### Валидные данные тестовых карт
* Номер разрешённой (APPROVED) карты: 4444 4444 4444 4441
* Номер запрещённой (DECLINED) карты: 4444 4444 4444 4442
* Месяц: двузначное число в диапазоне 01...12
* Год: больше текущего на два, в формате двузначного числа
* Владелец: Имя и Фамилия латиницей
* CVC: Трёхзначное число в диапазоне 000...999

## Перечень автоматизируемых сценариев

1. Купить. Успешная оплата разрешённой (APPROVED) картой
    * Выбрать "Купить"
    * Заполнить данные разрешённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Успешно". В БД статус операции: "APPROVED"

2. Купить. Отказ в оплате запрещённой (DECLINED) картой
    * Выбрать "Купить"
    * Заполнить данные запрещённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

3. Купить. Отказ. Номер карты валиден, но отсутствует в базе данных.
   Карта, номер которой отсутствует в базе данных, считается равной запрещённой карте
    * Выбрать "Купить"
    * В поле "Номер карты" ввести: 9999 9999 9999 9999
    * Заполнить остальные поля, валидными данными
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

4. Купить. Оплата проходит после исправления номера карты на валидный
    * Выбрать "Купить"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 444
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Номер карты" ввести: 4444 4444 4444 4441
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

5. Купить. Оплата не происходит. Карта просрочена на месяц
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести прошедший
    * В поле "Год" ввести текущий год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Истек срок действия карты"

6. Купить. Оплата не происходит. Карта просрочена на год
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести прошлый год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"

7. Купить. Оплата проходит после исправления месяца
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Месяц" ввести валидный месяц
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

8. Купить. Оплата проходит после исправления года
    * Выбрать "Купить"
    * Заполнить все поля, кроме года, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Год" ввести валидный год
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

9. Купить. Оплата происходит после исправления имени владельца
    * Выбрать "Купить"
    * Заполнить все поля, кроме владельца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"
    * В поле "Владелец" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

10. Купить. Оплата происходит после исправления CVC/CVV
    * Выбрать "Купить"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "CVC/CVV" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"
	
11. Купить в кредит. Успешная оплата кредитом с разрешённой картой
    * Выбрать "Купить в кредит"
    * Заполнить данные разрешённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Успешно". В БД статус операции: "APPROVED"

12. Купить в кредит. Отказ в оплате кредитом с запрещённой картой
    * Выбрать "Купить в кредит"
    * Заполнить данные запрещённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

13. Купить в кредит. Отказ. Номер карты валиден, но отсутствует в базе данных.
    Карту, номер которой отсутствует в базе данных, считается равной запрещённой карте.
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 4444
    * Получить уведомление "Отказано". В БД статус операции: "DECLINED"
    
14. Купить в кредит. Оплата проходит после исправления номера карты на валидный
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 444
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Номер карты" ввести: 4444 4444 4444 4441
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

15. Купить в кредит. Оплата не происходит. Карта просрочена на месяц
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести прошедший
    * В поле "Год" ввести текущий год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Истек срок действия карты"

16. Купить в кредит. Оплата не происходит. Карта просрочена на год
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести прошедший
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"

17. Купить в кредит. Оплата проходит после исправления месяца
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Месяц" ввести валидный месяц
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

18. Купить в кредит. Оплата проходит после исправления года
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Год" ввести валидный год
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

19. Купить в кредит. Оплата происходит после исправления имени владельца
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме владельца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"
    * В поле "Владелец" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"

20. Купить в кредит. Оплата происходит после исправления CVC/CVV
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "CVC/CVV" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Получено уведомление "Успешно". В БД статус операции: "APPROVED"


### Перечень используемых инструментов с обоснованием выбора
* Java 11 - наиболее распространенная версия языка в настоящее время
* MySQL - база данных с которой может работать приложение
* PostgreSQL - вторая база данных с которой может работать приложение
* node-js - окружение в котором работает симулятор банкоского сервиса (gate-simulator)
* Junit 5 - позволяет создавать автоматизированные тесты на java 
* Selenide - простой синтаксис, упрощает написание UI тестов на java
* Faker - как генератор случайных имён владельца карты 
* lombok - упрощение написание тестов на java, локаничность кода
* Allure - удобный генератор отчетов тестирования

### Перечень и описание возможных рисков при автоматизации
* У тестировщика нет достаточного опыта в работе с инструментарием 
* Отсутствует документации к тестируемому приложению. При оценке поведения приложения приходится полагаться исключительно на собственный опыт использования подобными сервисами.
* Довольно сложный сценарий запуска приложения, а равно и автоматизация этого сценария


### Интервальная оценка с учётом рисков (в часах)
* Без рисков: до 45 часов:
    * 10 часов на исследование приложения;
    * 5 часов на планирование;
    * 15 часов на написание основы тестов и утилит;
    * 5 часов на написание самих сценариев;
    * 5 часов отладку сценариев;
    * 5 часов на описание багов и написание отчёта.  
* С рисками: до 65 часов:
    * 45 часов без рисков + ещё 20 часов на изучение докера, субд и инструментов автоматизации.  

### План сдачи работ
* Написание и отладка тестов: 19 августа 2023
* Оформление отчётов: 26 августа 2023
